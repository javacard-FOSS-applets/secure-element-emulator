<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Tue May 13 17:08:33 CEST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TransactionManager (jCardSim-2.2.1-r2-mroland 2.2.2 API)</title>
<meta name="date" content="2014-05-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionManager (jCardSim-2.2.1-r2-mroland 2.2.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/licel/jcardsim/base/SimulatorSystem.html" title="class in com.licel.jcardsim.base"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/licel/jcardsim/base/TransactionManager.html" target="_top">Frames</a></li>
<li><a href="TransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.licel.jcardsim.base</div>
<h2 title="Class TransactionManager" class="title">Class TransactionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.licel.jcardsim.base.TransactionManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TransactionManager</span>
extends <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Management of transactions and persistent memory state in non-Java Card environments.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#TransactionManager(at.mroland.objectstaterecovery.PersistentMemory)">TransactionManager</a></strong>(<a href="../../../../at/mroland/objectstaterecovery/PersistentMemory.html" title="class in at.mroland.objectstaterecovery">PersistentMemory</a>&nbsp;memoryManager)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#abortTransaction()">abortTransaction</a></strong>()</code>
<div class="block">Aborts the atomic transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#beginTransaction()">beginTransaction</a></strong>()</code>
<div class="block">Begins an atomic transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#commitTransaction()">commitTransaction</a></strong>()</code>
<div class="block">Commits an atomic transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#getAvailablePersistentMemory()">getAvailablePersistentMemory</a></strong>()</code>
<div class="block">Get the number of bytes available in persistent memory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#getMaxCommitCapacity()">getMaxCommitCapacity</a></strong>()</code>
<div class="block">Returns the total number of bytes in the commit buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#getTransactionDepth()">getTransactionDepth</a></strong>()</code>
<div class="block">Returns the current transaction nesting depth level.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><strong><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#getUnusedCommitCapacity()">getUnusedCommitCapacity</a></strong>()</code>
<div class="block">Returns the number of bytes left in the commit buffer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransactionManager(at.mroland.objectstaterecovery.PersistentMemory)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransactionManager</h4>
<pre>public&nbsp;TransactionManager(<a href="../../../../at/mroland/objectstaterecovery/PersistentMemory.html" title="class in at.mroland.objectstaterecovery">PersistentMemory</a>&nbsp;memoryManager)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="beginTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginTransaction</h4>
<pre>public&nbsp;void&nbsp;beginTransaction()</pre>
<div class="block">Begins an atomic transaction. If a transaction is already in
 progress (transaction nesting depth level != 0), a TransactionException is
 thrown.
 <p>Note:
 <ul>
 <li><em>This method may do nothing if the <code>Applet.register()</code>
 method has not yet been invoked. In case of tear or failure prior to successful
 registration, the Java Card runtime environment will roll back all atomically updated persistent state.</em>
 </ul></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../javacard/framework/TransactionException.html" title="class in javacard.framework">TransactionException</a></code> - with the following reason codes:
 <ul>
 <li><code>TransactionException.IN_PROGRESS</code> if a transaction is already in progress.
 </ul></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#abortTransaction()"><code>abortTransaction()</code></a>, 
<a href="../../../../com/licel/jcardsim/base/TransactionManager.html#commitTransaction()"><code>commitTransaction()</code></a></dd></dl>
</li>
</ul>
<a name="abortTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortTransaction</h4>
<pre>public&nbsp;void&nbsp;abortTransaction()</pre>
<div class="block">Aborts the atomic transaction. The contents of the commit
 buffer is discarded.
 <p>Note:
 <ul>
 <li><em>This method may do nothing if the <code>Applet.register()</code>
 method has not yet been invoked. In case of tear or failure prior to successful
 registration, the Java Card runtime environment will roll back all atomically updated persistent state.</em>
 <li><em>Do not call this method from within a transaction which creates new objects because
 the Java Card runtime environment may not recover the heap space used by the new object instances.</em>
 <li><em>Do not call this method from within a transaction which creates new objects because
 the Java Card runtime environment may, to ensure the security of the card and to avoid heap space loss,
 lock up the card session to force tear/reset processing.</em>
 <li><em>The Java Card runtime environment ensures that any variable of reference type which references an object
 instantiated from within this aborted transaction is equivalent to
 a </em><code>null</code><em> reference.</em>
 </ul></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../javacard/framework/TransactionException.html" title="class in javacard.framework">TransactionException</a></code> - - with the following reason codes:
 <ul>
 <li><code>TransactionException.NOT_IN_PROGRESS</code> if a transaction is not in progress.
 </ul></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#beginTransaction()"><code>beginTransaction()</code></a>, 
<a href="../../../../com/licel/jcardsim/base/TransactionManager.html#commitTransaction()"><code>commitTransaction()</code></a></dd></dl>
</li>
</ul>
<a name="commitTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitTransaction</h4>
<pre>public&nbsp;void&nbsp;commitTransaction()</pre>
<div class="block">Commits an atomic transaction. The contents of commit
 buffer is atomically committed. If a transaction is not in
 progress (transaction nesting depth level == 0) then a TransactionException is
 thrown.
 <p>Note:
 <ul>
 <li><em>This method may do nothing if the <code>Applet.register()</code>
 method has not yet been invoked. In case of tear or failure prior to successful
 registration, the Java Card runtime environment will roll back all atomically updated persistent state.</em>
 </ul></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../javacard/framework/TransactionException.html" title="class in javacard.framework">TransactionException</a></code> - with the following reason codes:
 <ul>
 <li><code>TransactionException.NOT_IN_PROGRESS</code> if a transaction is not in progress.
 </ul></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#beginTransaction()"><code>beginTransaction()</code></a>, 
<a href="../../../../com/licel/jcardsim/base/TransactionManager.html#abortTransaction()"><code>abortTransaction()</code></a></dd></dl>
</li>
</ul>
<a name="getTransactionDepth()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionDepth</h4>
<pre>public&nbsp;byte&nbsp;getTransactionDepth()</pre>
<div class="block">Returns the current transaction nesting depth level. At present,
 only 1 transaction can be in progress at a time.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>1 if transaction in progress, 0 if not</dd></dl>
</li>
</ul>
<a name="getUnusedCommitCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnusedCommitCapacity</h4>
<pre>public&nbsp;short&nbsp;getUnusedCommitCapacity()</pre>
<div class="block">Returns the number of bytes left in the commit buffer.
 <p> Note:
 <ul>
 <li><em>Current method implementation returns 32767.</em>
 </ul></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of bytes left in the commit buffer</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#getMaxCommitCapacity()"><code>getMaxCommitCapacity()</code></a></dd></dl>
</li>
</ul>
<a name="getMaxCommitCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxCommitCapacity</h4>
<pre>public&nbsp;short&nbsp;getMaxCommitCapacity()</pre>
<div class="block">Returns the total number of bytes in the commit buffer.
 This is approximately the maximum number of bytes of
 persistent data which can be modified during a transaction.
 However, the transaction subsystem requires additional bytes
 of overhead data to be included in the commit buffer, and this
 depends on the number of fields modified and the implementation
 of the transaction subsystem. The application cannot determine
 the actual maximum amount of data which can be modified during
 a transaction without taking these overhead bytes into consideration.
 <p> Note:
 <ul>
 <li><em>Current method implementation returns 32767.</em>
 </ul></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the total number of bytes in the commit buffer</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/licel/jcardsim/base/TransactionManager.html#getUnusedCommitCapacity()"><code>getUnusedCommitCapacity()</code></a></dd></dl>
</li>
</ul>
<a name="getAvailablePersistentMemory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getAvailablePersistentMemory</h4>
<pre>public&nbsp;short&nbsp;getAvailablePersistentMemory()</pre>
<div class="block">Get the number of bytes available in persistent memory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of bytes available in persistent memory, or <code>Short.MAX_VALUE</code> if number of bytes exceeds <code>Short.MAX_VALUE</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em> </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/licel/jcardsim/base/SimulatorSystem.html" title="class in com.licel.jcardsim.base"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/licel/jcardsim/base/TransactionManager.html" target="_top">Frames</a></li>
<li><a href="TransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small> </small></p>
</body>
</html>
